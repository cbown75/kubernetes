---
apiVersion: metallb.io/v1beta1
kind: IPAddressPool
metadata:
  name: default
  namespace: metallb-system
spec:
  addresses:
    - 10.10.7.200-10.10.7.250
  autoAssign: true
  avoidBuggyIPs: true
---
apiVersion: metallb.io/v1beta1
kind: IPAddressPool
metadata:
  name: internal
  namespace: metallb-system
spec:
  addresses:
    - 10.10.7.100-10.10.7.150
  autoAssign: false
  serviceSelector:
    matchLabels:
      metallb-pool: internal
---
apiVersion: metallb.io/v1beta1
kind: L2Advertisement
metadata:
  name: default
  namespace: metallb-system
spec:
  ipAddressPools:
    - default
    - internal

  # Optional: Advertise from specific nodes only
  # Uncomment to limit which nodes can be leaders
  # nodeSelectors:
  #   - matchLabels:
  #       node-role.kubernetes.io/worker: "true"

  # Optional: Advertise on specific interfaces
  # interfaces:
  #   - eth0
  #   - ens160
