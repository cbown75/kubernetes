apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  # Infrastructure GitRepository (creates kubernetes-infrastructure source)
  - gitrepository-infrastructure.yaml

  # Core infrastructure (order matters for dependencies)
  - sealed-secrets.yaml # Sealed secrets controller
  - cert-manager.yaml # Certificate management
  - traefik.yaml # Ingress controller

  # Monitoring (depends on traefik for ingress)
  - prometheus.yaml
